from brdr.enums import SnapStrategy
from brdr.geometry_utils import geom_from_wkt, snap_line_to_polygon

geom_intersection = geom_from_wkt(
    "LINESTRING (174118.42730177625 179538.5948089668, 174118.07800737227 179538.69571623905, 174121.25292162684 179549.0935604227, 174115.02737182568 179551.221279975)"
)
geom_reference = geom_from_wkt(
    "POLYGON ((174121.30281193 179537.5797107, 174118.39708392 179538.4958067, 174119.49647593 179542.09772671, 174121.64053993 179549.12230271, 174115.06217192 179551.33529471, 174112.18204392 179541.89919871, 174108.49634792 179529.8239987, 174108.59516392 179529.7902707, 174114.27676392 179527.8499827, 174114.49532392 179527.7753587, 174117.55785193 179526.7295347, 174121.30281193 179537.5797107))"
)
geom_snapped = snap_line_to_polygon(
    geom_intersection,
    geom_reference,
    snap_strategy=SnapStrategy.PREFER_VERTICES,
    max_segment_length=2,
)
print(geom_snapped.wkt)
